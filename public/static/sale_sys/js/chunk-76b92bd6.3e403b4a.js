(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76b92bd6"],{1276:function(t,e,a){"use strict";var i=a("d784"),s=a("44e7"),l=a("825a"),n=a("1d80"),o=a("4840"),r=a("8aa5"),c=a("50c4"),d=a("14c3"),h=a("9263"),u=a("d039"),g=[].push,p=Math.min,m=4294967295,f=!u((function(){return!RegExp(m,"y")}));i("split",2,(function(t,e,a){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,a){var i=String(n(this)),l=void 0===a?m:a>>>0;if(0===l)return[];if(void 0===t)return[i];if(!s(t))return e.call(i,t,l);var o,r,c,d=[],u=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,f=new RegExp(t.source,u+"g");while(o=h.call(f,i)){if(r=f.lastIndex,r>p&&(d.push(i.slice(p,o.index)),o.length>1&&o.index<i.length&&g.apply(d,o.slice(1)),c=o[0].length,p=r,d.length>=l))break;f.lastIndex===o.index&&f.lastIndex++}return p===i.length?!c&&f.test("")||d.push(""):d.push(i.slice(p)),d.length>l?d.slice(0,l):d}:"0".split(void 0,0).length?function(t,a){return void 0===t&&0===a?[]:e.call(this,t,a)}:e,[function(e,a){var s=n(this),l=void 0==e?void 0:e[t];return void 0!==l?l.call(e,s,a):i.call(String(s),e,a)},function(t,s){var n=a(i,t,this,s,i!==e);if(n.done)return n.value;var h=l(t),u=String(this),g=o(h,RegExp),b=h.unicode,L=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(f?"y":"g"),y=new g(f?h:"^(?:"+h.source+")",L),k=void 0===s?m:s>>>0;if(0===k)return[];if(0===u.length)return null===d(y,u)?[u]:[];var v=0,P=0,D=[];while(P<u.length){y.lastIndex=f?P:0;var w,$=d(y,f?u:u.slice(P));if(null===$||(w=p(c(y.lastIndex+(f?0:P)),u.length))===v)P=r(u,P,b);else{if(D.push(u.slice(v,P)),D.length===k)return D;for(var x=1;x<=$.length-1;x++)if(D.push($[x]),D.length===k)return D;P=v=w}}return D.push(u.slice(v)),D}]}),!f)},"134b":function(t,e,a){"use strict";a.d(e,"f",(function(){return s})),a.d(e,"y",(function(){return l})),a.d(e,"g",(function(){return n})),a.d(e,"m",(function(){return o})),a.d(e,"j",(function(){return r})),a.d(e,"r",(function(){return c})),a.d(e,"a",(function(){return d})),a.d(e,"k",(function(){return h})),a.d(e,"c",(function(){return u})),a.d(e,"e",(function(){return g})),a.d(e,"d",(function(){return p})),a.d(e,"s",(function(){return m})),a.d(e,"t",(function(){return f})),a.d(e,"h",(function(){return b})),a.d(e,"u",(function(){return L})),a.d(e,"l",(function(){return y})),a.d(e,"i",(function(){return k})),a.d(e,"p",(function(){return v})),a.d(e,"q",(function(){return P})),a.d(e,"b",(function(){return D})),a.d(e,"n",(function(){return w})),a.d(e,"o",(function(){return $})),a.d(e,"v",(function(){return x})),a.d(e,"w",(function(){return N})),a.d(e,"x",(function(){return H}));var i=a("751a"),s=function(t){return Object(i["a"])({url:"/ERP/selectApplyContract",method:"post",data:t})},l=function(t){return Object(i["a"])({url:"/ERP/chakanStorage",method:"get",params:t})},n=function(t){return Object(i["a"])({url:"/ERP/selectByContractNo",method:"post",data:t})},o=function(t){return Object(i["a"])({url:"/ERP/getCloth",method:"get",params:t})},r=function(t){return Object(i["a"])({url:"/ERP/LoadGnagHao",method:"post",data:t})},c=function(t){return Object(i["a"])({url:"/ERP/addappleP",method:"post",data:t})},d=function(t){return Object(i["a"])({url:"/ERP/addapplyPs",method:"post",data:t})},h=function(t){return Object(i["a"])({url:"/ERP/selFk",method:"get",params:t})},u=function(t){return Object(i["a"])({url:"/ERP/delappleP",method:"post",data:t})},g=function(t){return Object(i["a"])({url:"/ERP/selappleP",method:"get",params:t})},p=function(t){return Object(i["a"])({url:"/ERP/beforeApply",method:"post",data:t})},m=function(t){return Object(i["a"])({url:"/ERP/editApplyP",method:"post",data:t})},f=function(t){return Object(i["a"])({url:"/ERP/editApplyPs",method:"post",data:t})},b=function(t){return Object(i["a"])({url:"/ERP/searchStorageOut",method:"post",headers:{"content-type":"application/json"},data:t})},L=function(t){return Object(i["a"])({url:"/ERP/searchStorageOut_d",method:"post",data:t})},y=function(t){return Object(i["a"])({url:"/ERP/BeforeStorageOut",method:"post",data:t})},k=function(t){return Object(i["a"])({url:"/ERP/selstorageInn",method:"get",params:t})},v=function(t){return Object(i["a"])({url:"/ERP/addstorageOut",method:"post",data:t})},P=function(t){return Object(i["a"])({url:"/ERP/addStorageOut_d",method:"post",data:t})},D=function(t){return Object(i["a"])({url:"/ERP/delStorageOut",method:"post",data:t})},w=function(t){return Object(i["a"])({url:"/ERP/selstorageOut",method:"get",params:t})},$=function(t){return Object(i["a"])({url:"/ERP/selstorageOutD",method:"get",params:t})},x=function(t){return Object(i["a"])({url:"/ERP/editstorageOutD",method:"post",data:t})},N=function(t){return Object(i["a"])({url:"/ERP/editstorageOutd",method:"post",data:t})},H=function(t){return Object(i["a"])({url:"/ERP/gangHaoJudge",method:"post",data:t})}},"44e7":function(t,e,a){var i=a("861d"),s=a("c6b6"),l=a("b622"),n=l("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[n])?!!e:"RegExp"==s(t))}},"95d3":function(t,e,a){},abb2:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"delivery_detail_order"},[a("div",{staticClass:"box1"},[a("el-table",{staticStyle:{width:"100%",height:"300px"},attrs:{"highlight-current-row":"","max-height":"300",border:!0,"row-style":{height:"20px"},"cell-style":{padding:"0px"},data:t.applyList},on:{"row-click":t.detailClick}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center"}}),a("el-table-column",{attrs:{property:"applyNo",label:"申请单号",align:"center"}}),a("el-table-column",{attrs:{property:"contractNo",label:"合同编号",align:"center"}}),a("el-table-column",{attrs:{property:"applyDate",label:"申请日期",align:"center"}}),a("el-table-column",{attrs:{property:"personName",label:"申请人",align:"center"}}),a("el-table-column",{attrs:{property:"clothId",label:"布编",align:"center"}}),a("el-table-column",{attrs:{property:"applyQuanity",label:"发货数量",align:"center"}})],1)],1),a("div",{staticClass:"box2",staticStyle:{marginTop:"20px"}},[a("div",{staticStyle:{display:"flex"}},[a("el-button",{staticClass:"new_add_button",attrs:{disabled:t.addDisabled},on:{click:t.invoiceClick}},[a("i",{staticClass:"el-icon-circle-plus-outline"}),t._v(" 新增发货单 ")]),a("el-button",{staticClass:"new_add_button",staticStyle:{marginLeft:"10px"},attrs:{disabled:t.editorDisabled},on:{click:t.editorInvoice}},[a("i",{staticClass:"el-icon-document"}),t._v(" 编辑发货单 ")]),a("el-button",{staticClass:"delete_invoice",staticStyle:{marginLeft:"10px"},on:{click:t.deleteOutBound}},[a("i",{staticClass:"el-icon-document"}),t._v(" 删除发货单 ")])],1),a("el-table",{staticStyle:{width:"100%",height:"300px"},attrs:{"highlight-current-row":"","max-height":"300",border:!0,"row-style":{height:"20px"},"cell-style":{padding:"0px"},data:t.invoiceList}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center"}}),a("el-table-column",{attrs:{property:"ckNo",label:"出库单号",align:"center"}}),a("el-table-column",{attrs:{property:"jNo",label:"卷号",align:"center"}}),a("el-table-column",{attrs:{property:"clothId",label:"布编",align:"center"}}),a("el-table-column",{attrs:{property:"gangHao",label:"缸号",align:"center"}}),a("el-table-column",{attrs:{property:"lOT",label:"LOT",align:"center"}}),a("el-table-column",{attrs:{property:"cangku",label:"库位",align:"center"}}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s("0"==e.row.state?"未出库":"1"==e.row.state?"已出库":"已确认"))])]}}])})],1)],1),a("el-dialog",{attrs:{title:t.titleType,visible:t.invoiceVisible,closeOnClickModal:t.closeOnClickModal,closeOnPressEscape:t.closeOnPressEscape,width:"80%"},on:{"update:visible":function(e){t.invoiceVisible=e},close:t.applyRequestClose}},[a("div",{staticClass:"apply_goods"},[a("el-col",{attrs:{span:24}},[a("div",{staticClass:"request_top"},[a("el-form",{ref:t.formDetailPackingList,staticClass:"demo-formDetailPackingList form2",attrs:{"label-width":"100px",model:t.formDetailPackingList}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"发货申请单号"}},[a("el-input",{attrs:{placeholder:"自动生成",disabled:!0},model:{value:t.formDetailPackingList.applyNo,callback:function(e){t.$set(t.formDetailPackingList,"applyNo",e)},expression:"formDetailPackingList.applyNo"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"申请发货日期"}},[a("el-form-item",[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",disabled:!0},model:{value:t.formDetailPackingList.applyDate,callback:function(e){t.$set(t.formDetailPackingList,"applyDate",e)},expression:"formDetailPackingList.applyDate"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"送货地址"}},[a("el-input",{attrs:{placeholder:"自动生成",disabled:!0},model:{value:t.formDetailPackingList.address,callback:function(e){t.$set(t.formDetailPackingList,"address",e)},expression:"formDetailPackingList.address"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"业务员"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.formDetailPackingList.employeeName,callback:function(e){t.$set(t.formDetailPackingList,"employeeName",e)},expression:"formDetailPackingList.employeeName"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"客户"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.formDetailPackingList.clientName,callback:function(e){t.$set(t.formDetailPackingList,"clientName",e)},expression:"formDetailPackingList.clientName"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"品牌"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.formDetailPackingList.brand,callback:function(e){t.$set(t.formDetailPackingList,"brand",e)},expression:"formDetailPackingList.brand"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"联系人"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.formDetailPackingList.linkman,callback:function(e){t.$set(t.formDetailPackingList,"linkman",e)},expression:"formDetailPackingList.linkman"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"联系电话"}},[a("el-input",{attrs:{placeholder:"自动生成",disabled:!0},model:{value:t.formDetailPackingList.linktel,callback:function(e){t.$set(t.formDetailPackingList,"linktel",e)},expression:"formDetailPackingList.linktel"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"是否含税"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.formDetailPackingList.fax,callback:function(e){t.$set(t.formDetailPackingList,"fax",e)},expression:"formDetailPackingList.fax"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"发货备注"}},[a("el-input",{attrs:{type:"textarea",resize:"none",disabled:!0},model:{value:t.formDetailPackingList.fHremarks,callback:function(e){t.$set(t.formDetailPackingList,"fHremarks",e)},expression:"formDetailPackingList.fHremarks"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"布编"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.formDetailPackingList.clothId,callback:function(e){t.$set(t.formDetailPackingList,"clothId",e)},expression:"formDetailPackingList.clothId"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"缸号"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.formDetailPackingList.gangHao,callback:function(e){t.$set(t.formDetailPackingList,"gangHao",e)},expression:"formDetailPackingList.gangHao"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"申请数量"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.formDetailPackingList.applyQuanity,callback:function(e){t.$set(t.formDetailPackingList,"applyQuanity",e)},expression:"formDetailPackingList.applyQuanity"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"分LOT或缸"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.formDetailPackingList.fenGang,callback:function(e){t.$set(t.formDetailPackingList,"fenGang",e)},expression:"formDetailPackingList.fenGang"}})],1)],1)],1)],1)]),a("el-col",{attrs:{span:24}},[a("div",{staticClass:"request_middle",staticStyle:{marginTop:"20px"}},[a("el-form",{ref:t.detailPackingList,staticClass:"demo-requestInfoList form2",attrs:{"label-width":"100px",model:t.detailPackingList}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"出库编号"}},[a("el-input",{attrs:{placeholder:"自动生成",disabled:!0}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"发货人"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.detailPackingList.personId,callback:function(e){t.$set(t.detailPackingList,"personId",e)},expression:"detailPackingList.personId"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"出口状态"}},[a("el-input",{model:{value:t.detailPackingList.nW,callback:function(e){t.$set(t.detailPackingList,"nW",e)},expression:"detailPackingList.nW"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"编织袋"}},[a("el-select",{model:{value:t.detailPackingList.bZD,callback:function(e){t.$set(t.detailPackingList,"bZD",e)},expression:"detailPackingList.bZD"}},[a("el-option",{attrs:{label:"塑料",value:"1"}}),a("el-option",{attrs:{label:"布",value:"2"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"送货地址"}},[a("el-input",{model:{value:t.detailPackingList.deliverAddress,callback:function(e){t.$set(t.detailPackingList,"deliverAddress",e)},expression:"detailPackingList.deliverAddress"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"报关口岸"}},[a("el-input",{model:{value:t.detailPackingList.bGKA,callback:function(e){t.$set(t.detailPackingList,"bGKA",e)},expression:"detailPackingList.bGKA"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"运费方式"}},[a("el-input",{model:{value:t.detailPackingList.feeStyleA,callback:function(e){t.$set(t.detailPackingList,"feeStyleA",e)},expression:"detailPackingList.feeStyleA"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"运费单价"}},[a("el-input",{model:{value:t.detailPackingList.feeStyleB,callback:function(e){t.$set(t.detailPackingList,"feeStyleB",e)},expression:"detailPackingList.feeStyleB"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"是否带匹条"}},[a("el-select",{model:{value:t.detailPackingList.pT,callback:function(e){t.$set(t.detailPackingList,"pT",e)},expression:"detailPackingList.pT"}},[a("el-option",{attrs:{label:"是",value:"1"}}),a("el-option",{attrs:{label:"否",value:"0"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",resize:"none"},model:{value:t.detailPackingList.remarks,callback:function(e){t.$set(t.detailPackingList,"remarks",e)},expression:"detailPackingList.remarks"}})],1)],1)],1)],1)]),a("el-col",{attrs:{span:24}},[a("div",{staticClass:"request_bottom",staticStyle:{marginTop:"15px"}},[a("div",{staticStyle:{display:"flex"}},[a("div",{},[a("el-button",{staticStyle:{marginBottom:"10px"},attrs:{type:"primary",disabled:t.gangHaoDisabled},nativeOn:{click:function(e){return t.gHQuery(e)}}},[t._v("选择缸号")])],1),a("el-form",{ref:t.totalList,staticStyle:{display:"flex"},attrs:{"label-width":"100px",model:t.totalList}},[a("el-form-item",{attrs:{label:"选择码数"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.totalList.totalQuanity,callback:function(e){t.$set(t.totalList,"totalQuanity",e)},expression:"totalList.totalQuanity"}})],1),a("el-form-item",{attrs:{label:"选择件数"}},[a("el-input",{attrs:{disabled:!0},model:{value:t.totalList.totalJianShu,callback:function(e){t.$set(t.totalList,"totalJianShu",e)},expression:"totalList.totalJianShu"}})],1)],1)],1),a("el-table",{ref:"addGangHaoTableList",staticStyle:{width:"100%"},attrs:{data:t.addGangHaoTableList,"tooltip-effect":"dark",border:!0,"row-style":{height:"20px"},"cell-style":{padding:"0px"}}},[a("el-table-column",{attrs:{type:"index",label:"序号",width:"50",align:"center"}}),a("el-table-column",{attrs:{property:"gangHao",label:"缸号",width:"120",align:"center"}}),a("el-table-column",{attrs:{property:"jNo",label:"卷号",width:"120",align:"center"}}),a("el-table-column",{attrs:{property:"maQuanity",label:"码数",width:"120",align:"center"}}),a("el-table-column",{attrs:{property:"lot",label:"LOT",width:"120",align:"center"}}),a("el-table-column",{attrs:{property:"clothId",label:"布编",width:"120",align:"center"}}),a("el-table-column",{attrs:{property:"factQuanity",label:"实际出库数量",width:"120",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-input",{attrs:{type:"number",min:"0"},on:{change:function(a){return t.confirmWriteNum(e.row)}},model:{value:e.row.factQuanity,callback:function(a){t.$set(e.row,"factQuanity",a)},expression:"scope.row.factQuanity"}})]}}])}),a("el-table-column",{attrs:{property:"cangku",label:"存放位置",align:"center"}}),a("el-table-column",{attrs:{property:"ptcangku",label:"匹条位置",align:"center"}}),a("el-table-column",{attrs:{property:"state",label:"状态",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"danger",size:"mini"},nativeOn:{click:function(a){return t.deleteClick(e.row)}}},[t._v("删除")])]}}])})],1)],1)]),a("el-col",{staticStyle:{margin:"15px 0 0 0",textAlign:"center"},attrs:{span:24}},[a("el-button",{staticStyle:{width:"150px"},attrs:{type:"primary"},nativeOn:{click:function(e){return t.submitDeliveryForm("detailPackingList")}}},[t._v("提交")])],1)],1),a("el-dialog",{attrs:{width:"60%",title:"选择缸号",visible:t.gangHaoVisible,"append-to-body":"",closeOnClickModal:t.closeOnClickModal,closeOnPressEscape:t.closeOnPressEscape},on:{"update:visible":function(e){t.gangHaoVisible=e}}},[a("div",[a("div",{staticStyle:{marginBottom:"15px"}},[a("span",{staticStyle:{margin:"0 15px"}},[t._v("缸号")]),a("el-select",{on:{change:t.gangHaoClick},model:{value:t.gangHaoSelect,callback:function(e){t.gangHaoSelect=e},expression:"gangHaoSelect"}},t._l(t.cutList,(function(t){return a("el-option",{key:t,attrs:{value:t}})})),1)],1),a("div",{staticClass:"clothtable1"},[a("el-table",{ref:"gangHaoTableList",staticStyle:{width:"100%"},attrs:{data:t.gangHaoTableList,"tooltip-effect":"dark",border:!0,"row-style":{height:"20px"},"cell-style":{padding:"0px"}},on:{"selection-change":t.handleSelectionChange}},[t._v(" > "),a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{type:"index",label:"序号",width:"50",align:"center"}}),a("el-table-column",{attrs:{property:"jNo",label:"卷号",width:"120",align:"center"}}),a("el-table-column",{attrs:{property:"maQuanity",label:"码数",width:"120",align:"center"}}),a("el-table-column",{attrs:{property:"lot",label:"LOT",width:"120",align:"center"}}),a("el-table-column",{attrs:{property:"clothId",label:"布编",width:"120",align:"center"}}),a("el-table-column",{attrs:{property:"cangku",label:"存放位置",align:"center"}}),a("el-table-column",{attrs:{property:"ptcangku",label:"匹条位置",align:"center"}}),a("el-table-column",{attrs:{property:"state",label:"状态",align:"center"}})],1)],1)]),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancleTable}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.addTable(e)}}},[t._v("添加")])],1)])],1)],1)},s=[],l=(a("99af"),a("4160"),a("13d5"),a("45fc"),a("a434"),a("a9e3"),a("ac1f"),a("1276"),a("159b"),a("2909")),n=a("134b"),o=a("b383"),r=a.n(o),c={name:"fhxmd",data:function(){return{id:"",poorNum:"",maxQuantity:"",chooseSum:0,value:"",titleType:"",selectApplyNo:"",gangHaoSelect:"",selectContractNo:"",selectckNo:"",fromWhich:"",cutList:[],applyList:[],invoiceList:[],formDetailPackingList:{},detailPackingList:{},totalList:{totalQuanity:"",totalJianShu:""},addGangHaoTableList:[],gangHaoTableList:[],chooseList:[],saveList:[],newFhsqList:{},formInline:{},gangHaoDisabled:!1,addDisabled:!1,editorDisabled:!1,flag:!1,invoiceVisible:!1,closeOnClickModal:!1,closeOnPressEscape:!1,gangHaoVisible:!1}},methods:{deleteClick:function(t){var e=this;this.$confirm("确认删除该条卷号?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.addGangHaoTableList.forEach((function(a,i){a.jNo==t.jNo&&e.addGangHaoTableList.splice(i,1)}))})).catch((function(){}))},cancleTable:function(){this.gangHaoVisible=!1},addTable:function(){var t={gangHao:this.selectApplyNo,bxmd:""};if(n["x"](r.a.stringify(t)).then((function(t){})).catch((function(t){console.log(t)})),this.chooseList[0]){for(var e=0;e<this.chooseList[0].length;e++)this.addGangHaoTableList.push(this.chooseList[0][e]);var a="bxmd";this.addGangHaoTableList=this.addGangHaoTableList.reduce((function(t,e){return t.some((function(t){return t[a]==e[a]}))?t:[].concat(Object(l["a"])(t),[e])}),[]),this.$set(this.addGangHaoTableList,"totalJianShu",this.addGangHaoTableList.length),this.$set(this.totalList,"totalJianShu",this.addGangHaoTableList.length),this.gangHaoVisible=!1,this.gangHaoTableList=[];for(var i=0;i<this.addGangHaoTableList.length;i++)this.$set(this.addGangHaoTableList[i],"storageNo",this.selectApplyNo)}else this.$message({message:"请选择后再添加",duration:2e3})},gHQuery:function(){this.gangHaoVisible=!0,this.gangHaoSelect="",this.chooseList=[],this.gangHaoTableList=[]},deleteOutBound:function(){var t=this;this.selectckNo&&this.$confirm("确认删除该条发货细码单?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e={ckNo:t.selectckNo};n["b"](r.a.stringify(e)).then((function(e){t.requestDetail(),t.addDisabled=!1,t.editorDisabled=!0})).catch((function(t){console.log(t)}))})).catch((function(){}))},submitDeliveryForm:function(){var t=this;if(1==this.fromWhich)if(Number(this.maxQuantity)==Number(this.addGangHaoTableList.totalQuanity)){var e=sessionStorage.getItem("name");this.$set(this.newFhsqList,"remarks",this.detailPackingList.remarks),this.$set(this.newFhsqList,"fhsqNo",this.formDetailPackingList.applyNo),this.$set(this.newFhsqList,"applyDate",this.formDetailPackingList.applyDate),this.$set(this.newFhsqList,"applyPerson",this.formDetailPackingList.employeeId),this.$set(this.newFhsqList,"client",this.formDetailPackingList.clientId),this.$set(this.newFhsqList,"personId",e),this.$set(this.newFhsqList,"dept",""),this.$set(this.newFhsqList,"clothId",this.formDetailPackingList.clothId),this.$set(this.newFhsqList,"gangHao",this.formDetailPackingList.gangHao),this.$set(this.newFhsqList,"nW",this.detailPackingList.nW),this.$set(this.newFhsqList,"bZD",this.detailPackingList.bZD),this.$set(this.newFhsqList,"maQuanity","0"),this.$set(this.newFhsqList,"jQuanity","0"),this.$set(this.newFhsqList,"pT",this.detailPackingList.pT),this.$set(this.newFhsqList,"recordman",""),this.$set(this.newFhsqList,"recordDate",""),this.$set(this.newFhsqList,"style","大货出库"),this.$set(this.newFhsqList,"deliverAddress",this.detailPackingList.deliverAddress),this.$set(this.newFhsqList,"bGKA",this.detailPackingList.bGKA),this.$set(this.newFhsqList,"feeStyleA",this.detailPackingList.feeStyleA),this.$set(this.newFhsqList,"feeStyleB",this.detailPackingList.feeStyleB),this.$set(this.newFhsqList,"kuaiDiNo",""),this.$set(this.newFhsqList,"pDF",""),this.$set(this.newFhsqList,"state","0"),this.$set(this.newFhsqList,"guid",""),this.$set(this.newFhsqList,"ckNo",""),this.$set(this.newFhsqList,"ckDate","");var a=this.newFhsqList;n["p"](a).then((function(e){(e.code="200")&&t.DeliveryForm(e.data)})).catch((function(t){console.log(t)}))}else 0==this.addGangHaoTableList.length?this.$message({message:"请先选择缸号",duration:2500}):Number(this.maxQuantity)>Number(this.chooseSum)?(this.poorNum=Number(this.maxQuantity)-Number(this.chooseSum),this.$message({message:"发货总数量必须与申请数量相等,还少"+this.poorNum+"码",duration:2500})):(this.poorNum=Number(this.chooseSum)-Number(this.maxQuantity),this.$message({message:"发货总数量必须与申请数量相等,多了"+this.poorNum+"码",duration:2500}));else if(Number(this.maxQuantity)==Number(this.totalList.totalQuanity)){var i=sessionStorage.getItem("name");this.$set(this.newFhsqList,"remarks",this.detailPackingList.remarks),this.$set(this.newFhsqList,"fhsqNo",this.formDetailPackingList.applyNo),this.$set(this.newFhsqList,"applyDate",this.formDetailPackingList.applyDate),this.$set(this.newFhsqList,"applyPerson",this.formDetailPackingList.employeeId),this.$set(this.newFhsqList,"client",this.formDetailPackingList.clientId),this.$set(this.newFhsqList,"personId",i),this.$set(this.newFhsqList,"dept",""),this.$set(this.newFhsqList,"clothId",this.formDetailPackingList.clothId),this.$set(this.newFhsqList,"gangHao",this.formDetailPackingList.gangHao),this.$set(this.newFhsqList,"nW",this.detailPackingList.nW),this.$set(this.newFhsqList,"bZD",this.detailPackingList.bZD),this.$set(this.newFhsqList,"maQuanity","0"),this.$set(this.newFhsqList,"jQuanity","0"),this.$set(this.newFhsqList,"pT",this.detailPackingList.pT),this.$set(this.newFhsqList,"recordman",""),this.$set(this.newFhsqList,"recordDate",""),this.$set(this.newFhsqList,"style","大货出库"),this.$set(this.newFhsqList,"deliverAddress",this.detailPackingList.deliverAddress),this.$set(this.newFhsqList,"bGKA",this.detailPackingList.bGKA),this.$set(this.newFhsqList,"feeStyleA",this.detailPackingList.feeStyleA),this.$set(this.newFhsqList,"feeStyleB",this.detailPackingList.feeStyleB),this.$set(this.newFhsqList,"kuaiDiNo",""),this.$set(this.newFhsqList,"pDF",""),this.$set(this.newFhsqList,"state","0"),this.$set(this.newFhsqList,"guid",""),this.$set(this.newFhsqList,"ckNo",this.selectckNo),this.$set(this.newFhsqList,"ckDate","");var s=this.newFhsqList;n["v"](s).then((function(e){(e.code="200")&&t.DeliveryForm(t.selectckNo)})).catch((function(t){console.log(t)}))}else Number(this.maxQuantity)>Number(this.chooseSum)?(this.poorNum=Number(this.maxQuantity)-Number(this.chooseSum),this.$message({message:"发货总数量必须与申请数量相等,还少"+this.poorNum+"码",duration:2500})):(this.poorNum=Number(this.chooseSum)-Number(this.maxQuantity),this.$message({message:"发货总数量必须与申请数量相等,多了"+this.poorNum+"码",duration:2500}))},DeliveryForm:function(t){var e=this;if(1==this.fromWhich){for(var a=0;a<this.addGangHaoTableList.length;a++)this.$set(this.addGangHaoTableList[a],"ckNo",t),this.$set(this.addGangHaoTableList[a],"state",0),this.$set(this.addGangHaoTableList[a],"totalJianShu",this.addGangHaoTableList.totalJianShu),this.$set(this.addGangHaoTableList[a],"totalQuanity",this.addGangHaoTableList.totalQuanity);var i=this.addGangHaoTableList;n["q"](i).then((function(t){(t.code="200")&&(e.$message({message:t.msg,duration:2e3}),e.invoiceVisible=!1,e.requestDetail())})).catch((function(t){console.log(t)}))}else{for(var s=0;s<this.addGangHaoTableList.length;s++)this.$set(this.addGangHaoTableList[s],"ckNo",t),this.$set(this.addGangHaoTableList[s],"state",0),this.$set(this.addGangHaoTableList[s],"totalJianShu",this.totalList.totalJianShu),this.$set(this.addGangHaoTableList[s],"totalQuanity",this.totalList.totalQuanity);var l=this.addGangHaoTableList;n["w"](l).then((function(t){(t.code="200")&&(e.$message({message:t.msg,duration:2e3}),e.invoiceVisible=!1,e.requestDetail())})).catch((function(t){console.log(t)}))}},p:function(t){return t<10?"0"+t:t},confirmWriteNum:function(t){if(this.chooseSum=0,Number(t.factQuanity)>Number(t.maQuanity)){this.$message({message:"不能大于当前码数",duration:2e3}),this.addGangHaoTableList.forEach((function(e,a){e.factQuanity==t.factQuanity&&(e.factQuanity=0)}));for(var e=0;e<this.addGangHaoTableList.length;e++)this.chooseSum+=Number(this.addGangHaoTableList[e].factQuanity);this.$set(this.addGangHaoTableList,"totalQuanity",this.chooseSum),this.$set(this.totalList,"totalQuanity",this.chooseSum)}else{if(!this.addGangHaoTableList[0])return!1;for(var a=0;a<this.addGangHaoTableList[0].length;a++)this.chooseSum+=Number(this.addGangHaoTableList[0][a].factQuanity);if(this.maxQuantity<=this.chooseSum)this.$message({message:"不能大于总申请码数",duration:2e3}),this.addGangHaoTableList[0].forEach((function(e,a){e.factQuanity==t.factQuanity&&(e.factQuanity=0)}));else{for(var i=0;i<this.addGangHaoTableList.length;i++)this.chooseSum+=Number(this.addGangHaoTableList[i].factQuanity);this.$set(this.addGangHaoTableList,"totalQuanity",this.chooseSum),this.$set(this.totalList,"totalQuanity",this.chooseSum)}}},handleSelectionChange:function(t){this.chooseList=[],this.chooseList.push(t)},gangHaoClick:function(t){var e=this;if(this.chooseList[0]){var a={condition:"gangHao='"+t+"' and contractNo='"+this.selectContractNo+"'",style:"3"};n["i"](a).then((function(t){e.gangHaoTableList=t.data})).catch((function(t){console.log(t)}))}else{var i={condition:"gangHao='"+t+"' and contractNo='"+this.selectContractNo+"'",style:"3"};n["i"](i).then((function(t){e.gangHaoTableList=t.data})).catch((function(t){console.log(t)}))}},applyRequestClose:function(){},editorInvoice:function(){var t=this;if(this.gangHaoDisabled=!0,this.fromWhich=2,this.addGangHaoTableList=[],""!==this.selectApplyNo){this.newFhsqList={},this.titleType="编辑发货单",this.invoiceVisible=!0;var e={applyNo:this.selectApplyNo};n["l"](r.a.stringify(e)).then((function(e){t.formDetailPackingList=e.data,t.cutList=t.formDetailPackingList.gangHao.split("-")})).catch((function(t){console.log(t)}))}else this.$message({message:"请先选择申请单",duration:2e3});this.editorMiddle(),this.editorbottom()},editorMiddle:function(){var t=this,e={condition:"ckNo='"+this.selectckNo+"'",style:2};n["n"](e).then((function(e){t.detailPackingList=e.data[0]})).catch((function(t){console.log(t)}))},editorbottom:function(){var t=this,e={condition:"ckNo='"+this.selectckNo+"'"};n["o"](e).then((function(e){t.addGangHaoTableList=e.data,t.totalList.totalQuanity=e.data[0].totalQuanity,t.totalList.totalJianShu=e.data[0].totalJianShu})).catch((function(t){console.log(t)}))},invoiceClick:function(){var t=this;if(this.gangHaoDisabled=!1,this.fromWhich=1,this.addGangHaoTableList=[],this.detailPackingList={},this.totalList.totalQuanity="",this.totalList.totalJianShu="",""!==this.selectApplyNo){this.newFhsqList={},this.titleType="新增发货单",this.invoiceVisible=!0;var e={applyNo:this.selectApplyNo};n["l"](r.a.stringify(e)).then((function(e){t.formDetailPackingList=e.data,t.cutList=t.formDetailPackingList.gangHao.split("-");var a=sessionStorage.getItem("name");t.detailPackingList.personId=a})).catch((function(t){console.log(t)}))}else this.$message({message:"请先选择申请单",duration:2e3})},detailClick:function(t){this.selectApplyNo=t.applyNo,this.selectContractNo=t.contractNo,this.maxQuantity=t.applyQuanity,this.addDisabled=!1,this.editorDisabled=!1,this.requestDetail()},requestDetail:function(){var t=this,e={applyNo:this.selectApplyNo};n["u"](r.a.stringify(e)).then((function(e){t.invoiceList=e.data,0!==e.data.length?(t.selectckNo=e.data[0].ckNo,t.editorDisabled=!1,t.addDisabled=!0):t.editorDisabled=!0})).catch((function(t){console.log(t)}))},deliveryDetailOrder:function(){var t=this;n["h"]().then((function(e){t.applyList=e.data})).catch((function(t){return!1}))}},created:function(){this.deliveryDetailOrder()},mounted:function(){}},d=c,h=(a("dd29"),a("2877")),u=Object(h["a"])(d,i,s,!1,null,"60d1729f",null);e["default"]=u.exports},dd29:function(t,e,a){"use strict";var i=a("95d3"),s=a.n(i);s.a}}]);