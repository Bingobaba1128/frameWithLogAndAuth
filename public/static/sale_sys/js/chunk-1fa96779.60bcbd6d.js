(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fa96779"],{"52df":function(t,e,a){},"65ac":function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"g",(function(){return n})),a.d(e,"f",(function(){return s})),a.d(e,"d",(function(){return o})),a.d(e,"e",(function(){return r})),a.d(e,"l",(function(){return c})),a.d(e,"m",(function(){return m})),a.d(e,"n",(function(){return u})),a.d(e,"a",(function(){return d})),a.d(e,"i",(function(){return f})),a.d(e,"h",(function(){return p})),a.d(e,"j",(function(){return b})),a.d(e,"k",(function(){return g})),a.d(e,"c",(function(){return h}));var l=a("751a"),i=function(t){return Object(l["a"])({url:"/ERP/selClient",method:"get",params:t})},n=function(t){return Object(l["a"])({url:"/ERP/selectEmployeeId",method:"get",params:t})},s=function(t){return Object(l["a"])({url:"/ERP/selectClientInformation",method:"get",params:t})},o=function(t){return Object(l["a"])({url:"/ERP/selPronvice",method:"get",params:t})},r=function(t){return Object(l["a"])({url:"/ERP/selectClientGrade",method:"get",params:t})},c=function(t){return Object(l["a"])({url:"/ERP/updateByCondition",method:"post",data:t})},m=function(t){return Object(l["a"])({url:"/ERP/updateClientGrade",method:"post",data:t})},u=function(t){return Object(l["a"])({url:"/ERP/updateEmployee",method:"post",data:t})},d=function(t){return Object(l["a"])({url:"/ERP/selBrand",method:"get",params:t})},f=function(t){return Object(l["a"])({url:"/ERP/delBrand",method:"post",data:t})},p=function(t){return Object(l["a"])({url:"/ERP/addBrand",method:"post",data:t})},b=function(t){return Object(l["a"])({url:"/ERP/editBrand",method:"post",data:t})},g=function(t){return Object(l["a"])({url:"/ERP/updateBrandByCondition",method:"post",data:t})},h=function(t){return Object(l["a"])({url:"/ERP/selClientBrand",method:"get",params:t})}},"66aa":function(t,e,a){"use strict";var l=a("52df"),i=a.n(l);i.a},e91b:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"customer_wrap"},[a("div",{staticClass:"box1",staticStyle:{borderBottom:"1px solid #ccc"}},[a("el-form",{staticClass:"demo-form-inline",attrs:{inline:!0}},[a("el-form-item",{attrs:{label:"客商"}},[a("el-input",{attrs:{placeholder:"请输入客商"},model:{value:t.merchants,callback:function(e){t.merchants=e},expression:"merchants"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.searchList(e)}}},[t._v("检索")]),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.refreshList(e)}}},[t._v("重置")])],1)],1)],1),a("div",{staticClass:"box2",staticStyle:{margin:"10px 0"}},[a("div",{staticStyle:{display:"flex",margin:"10px 0"}},[a("div",{staticClass:"new_add",on:{click:t.basicInfoEntry}},[a("i",{staticClass:"el-icon-edit"}),t._v(" 基础信息录入 ")]),a("div",{staticClass:"new_add",on:{click:t.personInfoEntry}},[a("i",{staticClass:"el-icon-edit"}),t._v(" 个人信息录入 ")])]),a("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":"","max-height":"240",border:!0,"row-style":{height:"20px"},"cell-style":{padding:"0px"},data:t.merchantsRelationshipList},on:{"row-click":t.personalDetail}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center"}}),a("el-table-column",{attrs:{label:"地区",align:"center",width:"160px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",[t._v(t._s(e.row.province)+"-"+t._s(e.row.city))])]}}])}),a("el-table-column",{attrs:{property:"clientNo",label:"客商编号",align:"center",width:"160px"}}),a("el-table-column",{attrs:{property:"clientName",label:"客商名称",align:"center",width:"260px"}}),a("el-table-column",{attrs:{property:"clientStyle",label:"客商类型",align:"center",width:"160px"}}),a("el-table-column",{attrs:{property:"linkman",label:"联系人",align:"center",width:"160px"}}),a("el-table-column",{attrs:{property:"linktel",label:"电话",align:"center",width:"160px"}}),a("el-table-column",{attrs:{property:"fax",label:"传真",align:"center",width:"160px"}}),a("el-table-column",{attrs:{property:"mailingBoardPayStyle",label:"寄板限码",align:"center",width:"160px"}}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s("1"==e.row.state?"使用":"停用"))]}}])}),a("el-table-column",{attrs:{property:"recently",label:"最后的业务日期",align:"center",width:"180px"}}),a("el-table-column",{attrs:{property:"treasureNo",label:"财务编号",align:"center",width:"160px"}})],1)],1),a("div",{staticClass:"box3",staticStyle:{marginTop:"20px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{"highlight-current-row":"","max-height":"240",border:!0,"row-style":{height:"20px"},"cell-style":{padding:"0px"},data:t.merchantsPersonList}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center"}}),a("el-table-column",{attrs:{property:"totalDays",label:"业务部门",align:"center"}}),a("el-table-column",{attrs:{property:"totalAmount",label:"业务员",align:"center"}}),a("el-table-column",{attrs:{property:"daysofarrears",label:"欠款天数",align:"center"}}),a("el-table-column",{attrs:{property:"amountofarrears",label:"欠款额度",align:"center"}}),a("el-table-column",{attrs:{property:"remarksofarrears",label:"欠款备注",align:"center"}}),a("el-table-column",{attrs:{label:"审批状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s("1"==e.row.state?"已审批":"待审批"))]}}])})],1)],1),a("el-dialog",{attrs:{title:"基础信息录入",visible:t.basicInfoVisible,closeOnClickModal:t.closeOnClickModal,closeOnPressEscape:t.closeOnPressEscape,width:"80%"},on:{"update:visible":function(e){t.basicInfoVisible=e}}},[a("div",{staticClass:"basic_info"},[a("el-divider",{attrs:{"content-position":"left"}},[t._v("基础信息")]),a("el-col",{attrs:{span:24}},[a("div",{staticClass:"request_top"},[a("el-form",{ref:t.formDetailPackingList,staticClass:"demo-formDetailPackingList form2",attrs:{"label-width":"100px",model:t.formDetailPackingList}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"客商编号"}},[a("el-input",{model:{value:t.formDetailPackingList.clientNo,callback:function(e){t.$set(t.formDetailPackingList,"clientNo",e)},expression:"formDetailPackingList.clientNo"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"客商类型"}},[a("el-select",{model:{value:t.formDetailPackingList.clientStyle,callback:function(e){t.$set(t.formDetailPackingList,"clientStyle",e)},expression:"formDetailPackingList.clientStyle"}},[a("el-option",{attrs:{label:"制衣厂",value:"制衣厂"}}),a("el-option",{attrs:{label:"品牌商",value:"品牌商"}}),a("el-option",{attrs:{label:"贸易商",value:"贸易商"}}),a("el-option",{attrs:{label:"其他",value:"其他"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"财务编号"}},[a("el-input",{model:{value:t.formDetailPackingList.treasureNo,callback:function(e){t.$set(t.formDetailPackingList,"treasureNo",e)},expression:"formDetailPackingList.treasureNo"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"财务负责人"}},[a("el-input",{model:{value:t.formDetailPackingList.treasurePerson,callback:function(e){t.$set(t.formDetailPackingList,"treasurePerson",e)},expression:"formDetailPackingList.treasurePerson"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"结算方式"}},[a("el-input",{model:{value:t.formDetailPackingList.settlementMethod,callback:function(e){t.$set(t.formDetailPackingList,"settlementMethod",e)},expression:"formDetailPackingList.settlementMethod"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"客商名称"}},[a("el-input",{model:{value:t.formDetailPackingList.clientName,callback:function(e){t.$set(t.formDetailPackingList,"clientName",e)},expression:"formDetailPackingList.clientName"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"从属企业"}},[a("el-select",{model:{value:t.formDetailPackingList.followBussiness,callback:function(e){t.$set(t.formDetailPackingList,"followBussiness",e)},expression:"formDetailPackingList.followBussiness"}},[a("el-option",{attrs:{label:"AA",value:"AA"}}),a("el-option",{attrs:{label:"DD",value:"DD"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"lineHeight",attrs:{label:"营业执照证 副本复印件"}},[a("el-input",{model:{value:t.formDetailPackingList.yyzzFb,callback:function(e){t.$set(t.formDetailPackingList,"yyzzFb",e)},expression:"formDetailPackingList.yyzzFb"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"lineHeight",attrs:{label:"税务登记证 副本复印件"}},[a("el-input",{model:{value:t.formDetailPackingList.swdjFb,callback:function(e){t.$set(t.formDetailPackingList,"swdjFb",e)},expression:"formDetailPackingList.swdjFb"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"传真"}},[a("el-input",{model:{value:t.formDetailPackingList.fax,callback:function(e){t.$set(t.formDetailPackingList,"fax",e)},expression:"formDetailPackingList.fax"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"开票地址"}},[a("el-input",{model:{value:t.formDetailPackingList.invoiceAddress,callback:function(e){t.$set(t.formDetailPackingList,"invoiceAddress",e)},expression:"formDetailPackingList.invoiceAddress"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"纳税人识别号"}},[a("el-input",{model:{value:t.formDetailPackingList.taxpayerSerialNumber,callback:function(e){t.$set(t.formDetailPackingList,"taxpayerSerialNumber",e)},expression:"formDetailPackingList.taxpayerSerialNumber"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"账户"}},[a("el-input",{model:{value:t.formDetailPackingList.account,callback:function(e){t.$set(t.formDetailPackingList,"account",e)},expression:"formDetailPackingList.account"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"电话"}},[a("el-input",{model:{value:t.formDetailPackingList.tel,callback:function(e){t.$set(t.formDetailPackingList,"tel",e)},expression:"formDetailPackingList.tel"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"开户行"}},[a("el-input",{model:{value:t.formDetailPackingList.invoiceBank,callback:function(e){t.$set(t.formDetailPackingList,"invoiceBank",e)},expression:"formDetailPackingList.invoiceBank"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"交货地点"}},[a("el-input",{model:{value:t.formDetailPackingList.deliverPlace,callback:function(e){t.$set(t.formDetailPackingList,"deliverPlace",e)},expression:"formDetailPackingList.deliverPlace"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{model:{value:t.formDetailPackingList.state,callback:function(e){t.$set(t.formDetailPackingList,"state",e)},expression:"formDetailPackingList.state"}},[a("el-option",{attrs:{label:"使用",value:"1"}}),a("el-option",{attrs:{label:"停用",value:"0"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"企业经理"}},[a("el-input",{model:{value:t.formDetailPackingList.bussinessManager,callback:function(e){t.$set(t.formDetailPackingList,"bussinessManager",e)},expression:"formDetailPackingList.bussinessManager"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"企业电话"}},[a("el-input",{model:{value:t.formDetailPackingList.bussinesstel,callback:function(e){t.$set(t.formDetailPackingList,"bussinesstel",e)},expression:"formDetailPackingList.bussinesstel"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"lineHeight",attrs:{label:"从属企业客商名称包含过滤"}},[a("el-input",{attrs:{disabled:!0}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"国家"}},[a("el-select",{on:{change:t.changeCountry},model:{value:t.formDetailPackingList.province,callback:function(e){t.$set(t.formDetailPackingList,"province",e)},expression:"formDetailPackingList.province"}},t._l(t.countryList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"地区"}},[a("el-select",{model:{value:t.formDetailPackingList.city,callback:function(e){t.$set(t.formDetailPackingList,"city",e)},expression:"formDetailPackingList.city"}},t._l(t.regionList,(function(t){return a("el-option",{key:t.id,attrs:{label:t.name,value:t.name}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{staticClass:"lineHeight",attrs:{label:"寄板运费的支付方式选择"}},[a("el-select",{model:{value:t.formDetailPackingList.mailingBoardPayStyle,callback:function(e){t.$set(t.formDetailPackingList,"mailingBoardPayStyle",e)},expression:"formDetailPackingList.mailingBoardPayStyle"}},[a("el-option",{attrs:{label:"申通到付",value:"申通到付"}}),a("el-option",{attrs:{label:"申通寄付",value:"申通寄付"}}),a("el-option",{attrs:{label:"顺丰到付",value:"顺丰到付"}}),a("el-option",{attrs:{label:"顺丰寄付",value:"顺丰寄付"}}),a("el-option",{attrs:{label:"其他公司到付",value:"其他公司到付"}}),a("el-option",{attrs:{label:"其他公司寄付",value:"其他公司寄付"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"联系人"}},[a("el-input",{model:{value:t.formDetailPackingList.linkman,callback:function(e){t.$set(t.formDetailPackingList,"linkman",e)},expression:"formDetailPackingList.linkman"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"职务"}},[a("el-input",{model:{value:t.formDetailPackingList.duty,callback:function(e){t.$set(t.formDetailPackingList,"duty",e)},expression:"formDetailPackingList.duty"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"联系电话"}},[a("el-input",{model:{value:t.formDetailPackingList.linktel,callback:function(e){t.$set(t.formDetailPackingList,"linktel",e)},expression:"formDetailPackingList.linktel"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"地址"}},[a("el-input",{model:{value:t.formDetailPackingList.address,callback:function(e){t.$set(t.formDetailPackingList,"address",e)},expression:"formDetailPackingList.address"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"规模产能简述"}},[a("el-input",{model:{value:t.formDetailPackingList.scaleAndcapacity,callback:function(e){t.$set(t.formDetailPackingList,"scaleAndcapacity",e)},expression:"formDetailPackingList.scaleAndcapacity"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"规模"}},[a("el-select",{model:{value:t.formDetailPackingList.scale,callback:function(e){t.$set(t.formDetailPackingList,"scale",e)},expression:"formDetailPackingList.scale"}},[a("el-option",{attrs:{label:"200人以下",value:"200人以下"}}),a("el-option",{attrs:{label:"200-500人",value:"200-500人"}}),a("el-option",{attrs:{label:"500-1000人",value:"500-1000人"}}),a("el-option",{attrs:{label:"1000人以上",value:"1000人以上"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"产能"}},[a("el-select",{model:{value:t.formDetailPackingList.capacity,callback:function(e){t.$set(t.formDetailPackingList,"capacity",e)},expression:"formDetailPackingList.capacity"}},[a("el-option",{attrs:{label:"5万件以下",value:"5万件以下"}}),a("el-option",{attrs:{label:"5-15万件",value:"5-15万件"}}),a("el-option",{attrs:{label:"15-30万件",value:"15-30万件"}}),a("el-option",{attrs:{label:"30万件以上",value:"30万件以上"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"厂房"}},[a("el-input",{model:{value:t.formDetailPackingList.workShop,callback:function(e){t.$set(t.formDetailPackingList,"workShop",e)},expression:"formDetailPackingList.workShop"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"自购"}},[a("el-select",{model:{value:t.formDetailPackingList.zBuy,callback:function(e){t.$set(t.formDetailPackingList,"zBuy",e)},expression:"formDetailPackingList.zBuy"}},[a("el-option",{attrs:{label:"是",value:"是"}}),a("el-option",{attrs:{label:"否",value:"否"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"生产品牌"}},[a("el-input",{on:{focus:t.addBrand},model:{value:t.formDetailPackingList.pBrand,callback:function(e){t.$set(t.formDetailPackingList,"pBrand",e)},expression:"formDetailPackingList.pBrand"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"渠道"}},[a("el-select",{model:{value:t.formDetailPackingList.channel,callback:function(e){t.$set(t.formDetailPackingList,"channel",e)},expression:"formDetailPackingList.channel"}},[a("el-option",{attrs:{label:"出口",value:"出口"}}),a("el-option",{attrs:{label:"内销",value:"内销"}}),a("el-option",{attrs:{label:"出口/内销",value:"出口/内销"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"备注"}},[a("el-input",{attrs:{type:"textarea",resize:"none"},model:{value:t.formDetailPackingList.remarks,callback:function(e){t.$set(t.formDetailPackingList,"remarks",e)},expression:"formDetailPackingList.remarks"}})],1)],1)],1)],1)]),a("el-divider",{attrs:{"content-position":"left"}},[t._v("客商评级")]),a("el-col",{attrs:{span:24}},[a("div",{staticClass:"request_middle",staticStyle:{marginTop:"20px"}},[a("el-form",{ref:t.detailPackingList,staticClass:"demo-requestInfoList form2",attrs:{"label-width":"100px",model:t.detailPackingList}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"安全"}},[a("el-select",{model:{value:t.detailPackingList.safety,callback:function(e){t.$set(t.detailPackingList,"safety",e)},expression:"detailPackingList.safety"}},[a("el-option",{attrs:{label:"AA",value:"AA"}}),a("el-option",{attrs:{label:"BB",value:"BB"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"信誉保障"}},[a("el-select",{model:{value:t.detailPackingList.creditGuarantee,callback:function(e){t.$set(t.detailPackingList,"creditGuarantee",e)},expression:"detailPackingList.creditGuarantee"}},[a("el-option",{attrs:{label:"AA",value:"AA"}}),a("el-option",{attrs:{label:"BB",value:"BB"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"资金回笼"}},[a("el-select",{model:{value:t.detailPackingList.Returnofunds,callback:function(e){t.$set(t.detailPackingList,"Returnofunds",e)},expression:"detailPackingList.Returnofunds"}},[a("el-option",{attrs:{label:"AA",value:"AA"}}),a("el-option",{attrs:{label:"BB",value:"BB"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"数量"}},[a("el-input",{attrs:{type:"number",min:"1"},on:{change:t.minNum1},model:{value:t.detailPackingList.quantity,callback:function(e){t.$set(t.detailPackingList,"quantity",e)},expression:"detailPackingList.quantity"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"价钱"}},[a("el-select",{model:{value:t.detailPackingList.unit,callback:function(e){t.$set(t.detailPackingList,"unit",e)},expression:"detailPackingList.unit"}},[a("el-option",{attrs:{label:"AA",value:"AA"}}),a("el-option",{attrs:{label:"BB",value:"BB"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"客商级别"}},[a("el-select",{model:{value:t.detailPackingList.clientLevel,callback:function(e){t.$set(t.detailPackingList,"clientLevel",e)},expression:"detailPackingList.clientLevel"}},[a("el-option",{attrs:{label:"AA",value:"AA"}}),a("el-option",{attrs:{label:"BB",value:"BB"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"寄板上限"}},[a("el-input",{attrs:{type:"number",min:"1"},on:{change:t.minNum2},model:{value:t.detailPackingList.boardinglimit,callback:function(e){t.$set(t.detailPackingList,"boardinglimit",e)},expression:"detailPackingList.boardinglimit"}})],1)],1)],1)],1)]),a("el-divider",{attrs:{"content-position":"left"}},[t._v("业务部门")]),a("el-col",{attrs:{span:24}},[a("div",{staticClass:"request_bottom",staticStyle:{marginTop:"15px"}},[a("el-table",{staticStyle:{width:"100%"},attrs:{"tooltip-effect":"dark",border:!0,"row-style":{height:"20px"},"cell-style":{padding:"0px"},data:t.InMerchantsPersonList}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center"}}),a("el-table-column",{attrs:{property:"totalDays",label:"业务部门",align:"center"}}),a("el-table-column",{attrs:{property:"totalAmount",label:"业务员",align:"center"}}),a("el-table-column",{attrs:{property:"daysofarrears",label:"欠款天数",align:"center"}}),a("el-table-column",{attrs:{property:"amountofarrears",label:"欠款额度",align:"center"}}),a("el-table-column",{attrs:{property:"remarksofarrears",label:"欠款备注",align:"center"}}),a("el-table-column",{attrs:{property:"boardingrestriction",label:"寄板限制",align:"center"}})],1)],1)]),a("el-col",{staticStyle:{margin:"15px 0 0 0",textAlign:"center"},attrs:{span:24}},[a("el-button",{staticStyle:{width:"150px"},attrs:{type:"primary"},nativeOn:{click:function(e){return t.submitList(e)}}},[t._v("提交")])],1)],1)]),a("el-dialog",{attrs:{width:"50%",title:"品牌选择",visible:t.brandVisible,"append-to-body":"",closeOnClickModal:t.closeOnClickModal,closeOnPressEscape:t.closeOnPressEscape},on:{"update:visible":function(e){t.brandVisible=e}}},[a("div",[a("div",{staticStyle:{marginBottom:"15px"}},[a("span",{staticStyle:{marginRight:"10px"}},[t._v("品牌")]),a("el-select",{staticStyle:{width:"200px"},on:{change:t.switchClick},model:{value:t.selectBrand,callback:function(e){t.selectBrand=e},expression:"selectBrand"}},t._l(t.brandList,(function(t){return a("el-option",{key:t.brandName,attrs:{label:t.brandName,value:t.guid}})})),1),a("el-button",{staticStyle:{marginLeft:"15px"},attrs:{type:"primary",size:"mini"},nativeOn:{click:function(e){return t.addBrandInfo(e)}}},[t._v("新增")])],1),a("el-table",{staticStyle:{width:"100%"},attrs:{border:!0,"row-style":{height:"20px"},"cell-style":{padding:"0px"},data:t.brandTable}},[t._v(" > "),a("el-table-column",{attrs:{type:"index",label:"序号",align:"center"}}),a("el-table-column",{attrs:{property:"brandName",label:"品牌名称",align:"center"}}),a("el-table-column",{attrs:{property:"brandNo",label:"品牌编号",align:"center"}}),a("el-table-column",{attrs:{label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticStyle:{margin:"2px"},attrs:{type:"danger",size:"mini"},nativeOn:{click:function(a){return t.delBrand(e.row)}}},[t._v("删除")])]}}])})],1)],1),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:t.cancleTable}},[t._v("取消")]),a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.addTable(e)}}},[t._v("添加")])],1)]),a("el-dialog",{attrs:{title:"业务人员新增",width:"25%",visible:t.personInfoVisible,closeOnClickModal:t.closeOnClickModal,closeOnPressEscape:t.closeOnPressEscape},on:{"update:visible":function(e){t.personInfoVisible=e}}},[a("div",{staticClass:"person_info_entry"},[a("el-form",{attrs:{model:t.personForm,"label-width":"150px"}},[a("el-form-item",{attrs:{label:"业务部门"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{disabled:!0},model:{value:t.personForm.totalDays,callback:function(e){t.$set(t.personForm,"totalDays",e)},expression:"personForm.totalDays"}})],1),a("el-form-item",{attrs:{label:"业务员"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{disabled:!0},model:{value:t.personForm.totalAmount,callback:function(e){t.$set(t.personForm,"totalAmount",e)},expression:"personForm.totalAmount"}})],1),a("el-form-item",{attrs:{label:"联系人"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.personForm.linkman,callback:function(e){t.$set(t.personForm,"linkman",e)},expression:"personForm.linkman"}})],1),a("el-form-item",{attrs:{label:"联系电话"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.personForm.linktel,callback:function(e){t.$set(t.personForm,"linktel",e)},expression:"personForm.linktel"}})],1),a("el-form-item",{attrs:{label:"欠款天数"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.personForm.daysofarrears,callback:function(e){t.$set(t.personForm,"daysofarrears",e)},expression:"personForm.daysofarrears"}})],1),a("el-form-item",{attrs:{label:"欠款额度"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{type:"number",min:"0"},on:{change:t.changeNum},model:{value:t.personForm.amountofarrears,callback:function(e){t.$set(t.personForm,"amountofarrears",e)},expression:"personForm.amountofarrears"}})],1),a("el-form-item",{attrs:{label:"寄板限制"}},[a("el-input",{staticStyle:{width:"200px"},model:{value:t.personForm.boardingrestriction,callback:function(e){t.$set(t.personForm,"boardingrestriction",e)},expression:"personForm.boardingrestriction"}})],1),a("el-form-item",{attrs:{label:"欠款备注"}},[a("el-input",{staticStyle:{width:"200px"},attrs:{type:"textarea",resize:"none"},model:{value:t.personForm.remarksofarrears,callback:function(e){t.$set(t.personForm,"remarksofarrears",e)},expression:"personForm.remarksofarrears"}})],1),a("el-form-item",{staticClass:"sub1"},[a("el-button",{staticStyle:{width:"95px"},on:{click:t.closeOuterVisible}},[t._v("取消")]),a("el-button",{staticStyle:{width:"95px"},attrs:{type:"primary"},on:{click:t.submitPersonInfo}},[t._v("提交")])],1)],1)],1)])],1)},i=[],n=(a("99af"),a("4160"),a("13d5"),a("45fc"),a("a434"),a("a9e3"),a("159b"),a("2909")),s=a("65ac"),o=(a("b383"),{name:"ksda",data:function(){return{brandConnect:"",selectBrand:"",merchants:"",selectclientNo:"",basicInfoVisible:!1,closeOnClickModal:!1,closeOnPressEscape:!1,brandVisible:!1,personInfoVisible:!1,formDetailPackingList:{},detailPackingList:{},merchantsRelationshipList:[],merchantsPersonList:[],countryList:[],regionList:[],InMerchantsPersonList:[],personForm:{},currentPersonInfo:[],brandList:{},brandTable:[]}},methods:{changeNum:function(t){Number(t)>=0?this.$set(this.personForm,"amountofarrears",t):(this.$message({message:"最小值为0",duration:2e3}),this.$set(this.personForm,"amountofarrears",0))},personInfoEntry:function(){this.selectclientNo?this.getCurrentPersonInfo():this.$message({message:"请先选择客商",duration:2e3})},getCurrentPersonInfo:function(){var t=this,e=sessionStorage.getItem("id"),a={clientNo:this.selectclientNo,personId:e};s["g"](a).then((function(e){if(200==e.code)if(1==e.data[0].state){t.personInfoVisible=!0,t.currentPersonInfo=e.data,t.currentPersonInfo?t.personForm=t.currentPersonInfo[0]:t.personForm={};var a=sessionStorage.getItem("name");t.$set(t.personForm,"totalAmount",a)}else t.$message({message:"待审批不允许录入",duration:2e3});else{t.personInfoVisible=!0,t.personForm={};var l=sessionStorage.getItem("name");t.$set(t.personForm,"totalAmount",l)}})).catch((function(t){console.log(t)}))},submitPersonInfo:function(){var t=this,e=sessionStorage.getItem("id");this.$set(this.personForm,"clientNo",this.selectclientNo),this.$set(this.personForm,"employeeId",e),this.$set(this.personForm,"company",""),this.personForm.guid||this.$set(this.personForm,"guid",""),this.$set(this.personForm,"overduetimes",0),this.$set(this.personForm,"state",1),this.$set(this.personForm,"totalDays",""),this.$set(this.personForm,"deptId",""),this.$set(this.personForm,"approveStyle","合同业务员审批");var a=this.personForm;s["n"](a).then((function(e){200==e.code?(t.personInfoVisible=!1,t.loadCustomerList(),t.getpersonalDetail(t.selectclientNo)):t.$message({message:e.msg,duration:2e3})})).catch((function(t){console.log(t)}))},closeOuterVisible:function(){this.personInfoVisible=!1},submitList:function(){var t=this,e=this.formDetailPackingList;s["l"](e).then((function(e){200==e.code&&(t.submitForm(),t.sebmitBrandInfo())})).catch((function(t){console.log(t)}))},submitForm:function(){var t=this;this.$set(this.detailPackingList,"clientNo",this.selectclientNo);var e=this.detailPackingList;s["m"](e).then((function(e){200==e.code&&(t.basicInfoVisible=!1,t.$message({message:"录入成功",duration:2e3}),t.loadCustomerList())})).catch((function(t){console.log(t)}))},sebmitBrandInfo:function(){for(var t=this,e=0;e<this.brandTable.length;e++)this.$set(this.brandTable[e],"clientNo",this.selectclientNo);var a=this.brandTable;s["k"](a).then((function(e){200==e.code&&(t.$set(t.formDetailPackingList,"pBrand",e.data),t.brandVisible=!1)})).catch((function(t){console.log(t)}))},minNum1:function(t){Number(t)>=1?this.$set(this.detailPackingList,"quantity",t):(this.$message({message:"最小值为1",duration:2e3}),this.$set(this.detailPackingList,"quantity",1))},minNum2:function(t){Number(t)>=1?this.$set(this.detailPackingList,"boardinglimit",t):(this.$message({message:"最小值为1",duration:2e3}),this.$set(this.detailPackingList,"boardinglimit",1))},switchClick:function(t){this.selectBrand=t},delBrand:function(t){var e=this;this.$confirm("确认删除该条品牌?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.brandTable.forEach((function(a,l){a.guid==t.guid&&e.brandTable.splice(l,1)}))})).catch((function(){return!1}))},addBrandInfo:function(){var t=this;if(this.selectBrand){var e={guid:this.selectBrand};s["a"](e).then((function(e){t.brandTable.push(e.data[0]);var a="brandName";t.brandTable=t.brandTable.reduce((function(t,e){return t.some((function(t){return t[a]==e[a]}))?t:[].concat(Object(n["a"])(t),[e])}),[])})).catch((function(t){console.log(t)}))}else this.$message({message:"请先选择品牌",duration:2e3})},cancleTable:function(){this.brandConnect="",this.selectBrand="",this.brandVisible=!1},addTable:function(){for(var t=0;t<this.brandTable.length;t++)this.brandConnect+=this.brandTable[t].brandName;this.$set(this.formDetailPackingList,"pBrand",this.brandConnect),this.$message({message:"添加成功",duration:2e3}),this.brandVisible=!1},addBrand:function(){var t=this;this.selectBrand="",this.brandConnect="",this.loadBrand(),this.brandVisible=!0;var e={state:1};s["a"](e).then((function(e){t.brandList=e.data})).catch((function(t){console.log(t)}))},loadBrand:function(){var t=this,e={clientNo:this.selectclientNo};s["c"](e).then((function(e){200==e.code?t.brandTable=e.data:t.brandTable=[]})).catch((function(t){console.log(t)}))},changeCountry:function(t){var e=this;if("中国"==t){var a={parentId:0};s["d"](a).then((function(t){e.regionList=t.data})).catch((function(t){console.log(t)}))}else this.$set(this.formDetailPackingList,"city","")},loadCountryList:function(){var t=this,e={parentId:-1};s["d"](e).then((function(e){t.countryList=e.data})).catch((function(t){console.log(t)}))},InMerchantsPerson:function(){var t=this,e={clientNo:this.selectclientNo};s["g"](e).then((function(e){t.InMerchantsPersonList=e.data})).catch((function(t){console.log(t)}))},getMerchantsRating:function(){var t=this,e={clientNo:this.selectclientNo};s["e"](e).then((function(e){200==e.code?t.detailPackingList=e.data:t.detailPackingList={}})).catch((function(t){console.log(t)}))},getBasicInfoEntry:function(){var t=this,e={clientNo:this.selectclientNo};s["f"](e).then((function(e){t.formDetailPackingList=e.data[0]})).catch((function(t){console.log(t)}))},basicInfoEntry:function(){this.selectclientNo?(this.basicInfoVisible=!0,this.getBasicInfoEntry(),this.loadCountryList(),this.getMerchantsRating(),this.InMerchantsPerson()):this.$message({message:"请先选择客商",duration:2e3})},personalDetail:function(t){this.selectclientNo=t.clientNo,this.getpersonalDetail(this.selectclientNo)},getpersonalDetail:function(t){var e=this,a={clientNo:t};s["g"](a).then((function(t){e.merchantsPersonList=t.data})).catch((function(t){console.log(t)}))},searchList:function(){var t=this;this.merchantsPersonList=[];var e={clientName:this.merchants};s["b"](e).then((function(e){console.log(e),t.merchantsRelationshipList=e.data})).catch((function(t){console.log(t)}))},refreshList:function(){this.merchants="",this.loadCustomerList()},loadCustomerList:function(){var t=this;s["b"]().then((function(e){t.merchantsRelationshipList=e.data})).catch((function(t){console.log(t)}))}},created:function(){this.loadCustomerList()}}),r=o,c=(a("66aa"),a("2877")),m=Object(c["a"])(r,l,i,!1,null,null,null);e["default"]=m.exports}}]);