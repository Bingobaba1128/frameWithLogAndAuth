(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d36e6e6"],{"259f":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"person_manage_wrap"},[a("div",{staticClass:"product_search"},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm person_form",attrs:{model:t.ruleForm,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"员工姓名:"}},[a("el-input",{model:{value:t.ruleForm.clientName,callback:function(e){t.$set(t.ruleForm,"clientName",e)},expression:"ruleForm.clientName"}})],1),a("el-form-item",[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(e){return t.personSearchForm(e)}}},[t._v("检索")]),a("el-button",{nativeOn:{click:function(e){return t.personResetForm(e)}}},[t._v("重置")])],1)],1)],1),a("div",{staticClass:"new_add",on:{click:t.addPerson}},[a("i",{staticClass:"el-icon-circle-plus-outline"}),t._v(" 新增员工 ")]),a("el-table",{ref:"table",staticStyle:{width:"100%"},attrs:{"highlight-current-row":"","max-height":"480","row-key":"id",border:!0,"row-style":{height:"20px"},"cell-style":{padding:"0px"},data:t.personInfoList}},[a("el-table-column",{attrs:{type:"index",label:"序号",align:"center"}}),a("el-table-column",{attrs:{property:"employeeId",label:"员工编号",align:"center"}}),a("el-table-column",{attrs:{property:"employeeName",label:"员工姓名",align:"center"}}),a("el-table-column",{attrs:{property:"companyName",label:"公司",align:"center",width:"200"}}),a("el-table-column",{attrs:{property:"deptName",label:"部门",align:"center"}}),a("el-table-column",{attrs:{property:"duty",label:"岗位",align:"center"}}),a("el-table-column",{attrs:{property:"hireDate",label:"入职时间",align:"center"}}),a("el-table-column",{attrs:{property:"birthDate",label:"出生年月",align:"center"}}),a("el-table-column",{attrs:{property:"telephone",label:"联系电话",align:"center"}}),a("el-table-column",{attrs:{label:"状态",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(1==e.row.state?"离职":"在职"))]}}])}),a("el-table-column",{attrs:{property:"address",label:"操作",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticStyle:{margin:"2px",width:"100px"},attrs:{type:"primary",size:"mini"},nativeOn:{click:function(a){return t.personEditorClick(e.row)}}},[t._v("编辑")])]}}])})],1),a("el-pagination",{staticClass:"fy",attrs:{background:"",layout:"prev, pager, next",total:t.total},on:{"current-change":t.currentChange}}),a("el-dialog",{attrs:{title:t.titleType,visible:t.personVisible,closeOnClickModal:t.closeOnClickModal,closeOnPressEscape:t.closeOnPressEscape,width:"80%"},on:{"update:visible":function(e){t.personVisible=e}}},[a("div",{staticClass:"person_top"},[a("el-form",{ref:t.formDetailList,staticClass:"demo-formDetailList form2",attrs:{"label-width":"100px",model:t.formDetailList}},[a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"员工编号"}},[a("el-input",{model:{value:t.formDetailList.employeeId,callback:function(e){t.$set(t.formDetailList,"employeeId",e)},expression:"formDetailList.employeeId"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"员工姓名"}},[a("el-input",{model:{value:t.formDetailList.employeeName,callback:function(e){t.$set(t.formDetailList,"employeeName",e)},expression:"formDetailList.employeeName"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"公司"}},[a("el-select",{on:{change:t.selectCompany},model:{value:t.formDetailList.company,callback:function(e){t.$set(t.formDetailList,"company",e)},expression:"formDetailList.company"}},t._l(t.companyList,(function(t){return a("el-option",{key:t.deptName,attrs:{label:t.deptName,value:String(t.deptId)}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"部门"}},[a("el-select",{on:{change:t.selectDept},model:{value:t.formDetailList.department,callback:function(e){t.$set(t.formDetailList,"department",e)},expression:"formDetailList.department"}},t._l(t.deptList,(function(t){return a("el-option",{key:t.deptName,attrs:{label:t.deptName,value:String(t.deptId)}})})),1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"岗位"}},[a("el-select",{attrs:{placeholder:"暂不选择岗位",disabled:!0},model:{value:t.formDetailList.duty,callback:function(e){t.$set(t.formDetailList,"duty",e)},expression:"formDetailList.duty"}},[a("el-option",{attrs:{label:"是",value:"1"}}),a("el-option",{attrs:{label:"否",value:"0"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"联系方式"}},[a("el-input",{model:{value:t.formDetailList.telephone,callback:function(e){t.$set(t.formDetailList,"telephone",e)},expression:"formDetailList.telephone"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"邮箱"}},[a("el-input",{model:{value:t.formDetailList.email,callback:function(e){t.$set(t.formDetailList,"email",e)},expression:"formDetailList.email"}})],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"入职日期"}},[a("el-form-item",[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date"},model:{value:t.formDetailList.hireDate,callback:function(e){t.$set(t.formDetailList,"hireDate",e)},expression:"formDetailList.hireDate"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"出生日期"}},[a("el-form-item",[a("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date"},model:{value:t.formDetailList.birthDate,callback:function(e){t.$set(t.formDetailList,"birthDate",e)},expression:"formDetailList.birthDate"}})],1)],1)],1),a("el-col",{attrs:{span:6}},[a("el-form-item",{attrs:{label:"状态"}},[a("el-select",{model:{value:t.formDetailList.state,callback:function(e){t.$set(t.formDetailList,"state",e)},expression:"formDetailList.state"}},[a("el-option",{attrs:{label:"在职",value:"0"}}),a("el-option",{attrs:{label:"离职",value:"1"}})],1)],1)],1)],1)],1),a("div",{staticStyle:{margin:"15px 0 0 0",textAlign:"center"}},[a("el-button",{staticStyle:{width:"150px"},attrs:{type:"primary"},nativeOn:{click:function(e){return t.submitForm(e)}}},[t._v("提交")])],1)])],1)},i=[],n=(a("a9e3"),a("f292")),l=(a("b383"),{name:"rygl",data:function(){return{total:1e3,pagesize:50,currentPage:1,fanye:1,titleType:"",selectType:"",personVisible:!1,closeOnClickModal:!1,closeOnPressEscape:!1,ruleForm:{},formDetailList:{},personInfoList:[],companyList:[],deptList:[]}},methods:{currentChange:function(t){this.$refs.table.bodyWrapper.scrollTop=0,this.currentPage=t,1==this.fanye?this.loadPersonInfo():this.personSearchForm()},personSearchForm:function(){var t=this;if(this.currentPage?(this.currentPage,this.currentPage):this.currentPage="",this.fanye=2,this.ruleForm.clientName){var e={pageSize:50,pageNumer:this.currentPage,condition:this.ruleForm.clientName};n["e"](e).then((function(e){t.personInfoList=e.data,t.total=Number(e.data[0].duty)/5})).catch((function(t){console.log(t)}))}else this.$message({message:"请输入员工姓名",duration:2e3})},personResetForm:function(){this.currentPage,this.fanye=1,this.ruleForm={},this.loadPersonInfo()},personEditorClick:function(t){this.selectCompany(t.deptId),this.formDetailList=t,this.titleType="编辑人员",this.selectType=2,this.personVisible=!0,this.readCompanyList()},addPerson:function(){this.formDetailList={},this.titleType="新增员工",this.personVisible=!0,this.selectType=1,this.readCompanyList()},p:function(t){return t<10?"0"+t:t},readCompanyList:function(){var t=this,e={parentId:0};n["d"](e).then((function(e){t.companyList=e.data})).catch((function(t){console.log(t)}))},selectCompany:function(t){var e=this;this.$set(this.formDetailList,"company",t);var a={parentId:t};n["d"](a).then((function(t){e.deptList=t.data})).catch((function(t){console.log(t)}))},selectDept:function(t){this.$set(this.formDetailList,"department",t)},submitForm:function(){var t=this;if(1==this.selectType){var e=new Date(this.formDetailList.hireDate);this.formDetailList.hireDate=e.getFullYear()+"-"+this.p(e.getMonth()+1)+"-"+this.p(e.getDate());var a=new Date(this.formDetailList.birthDate);if(this.formDetailList.birthDate=a.getFullYear()+"-"+this.p(a.getMonth()+1)+"-"+this.p(a.getDate()),this.formDetailList.email)if(this.formDetailList.employeeName)if(this.formDetailList.telephone){this.$set(this.formDetailList,"orderNo","1");var r=this.formDetailList;n["h"](r).then((function(e){200==e.code?(t.personVisible=!1,t.$message({message:"新增成功",duration:2e3})):t.$message({message:e.msg,duration:2e3})})).catch((function(t){console.log(t)}))}else this.$message({message:"请输入联系方式",duration:2e3});else this.$message({message:"请输入姓名",duration:2e3});else this.$message({message:"请输入邮箱",duration:2e3})}else{var i=new Date(this.formDetailList.hireDate);this.formDetailList.hireDate=i.getFullYear()+"-"+this.p(i.getMonth()+1)+"-"+this.p(i.getDate());var l=new Date(this.formDetailList.birthDate);this.formDetailList.birthDate=l.getFullYear()+"-"+this.p(l.getMonth()+1)+"-"+this.p(l.getDate());var o=this.formDetailList;n["o"](o).then((function(e){200==e.code?(t.personVisible=!1,t.$message({message:"修改成功",duration:2e3})):t.$message({message:e.msg,duration:2e3})})).catch((function(t){console.log(t)}))}},loadPersonInfo:function(){var t=this;this.fanye=1;var e={symbol:2,pageSize:50,pageNumer:this.currentPage};n["e"](e).then((function(e){t.personInfoList=e.data,t.total=Number(e.data[0].duty)/5})).catch((function(t){console.log(t)}))}},created:function(){this.loadPersonInfo()}}),o=l,s=(a("52cc"),a("2877")),c=Object(s["a"])(o,r,i,!1,null,"1d573f6e",null);e["default"]=c.exports},"52cc":function(t,e,a){"use strict";var r=a("e7f8"),i=a.n(r);i.a},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,a){var r=a("1d80"),i=a("5899"),n="["+i+"]",l=RegExp("^"+n+n+"*"),o=RegExp(n+n+"*$"),s=function(t){return function(e){var a=String(r(e));return 1&t&&(a=a.replace(l,"")),2&t&&(a=a.replace(o,"")),a}};t.exports={start:s(1),end:s(2),trim:s(3)}},7156:function(t,e,a){var r=a("861d"),i=a("d2bb");t.exports=function(t,e,a){var n,l;return i&&"function"==typeof(n=e.constructor)&&n!==a&&r(l=n.prototype)&&l!==a.prototype&&i(t,l),t}},a9e3:function(t,e,a){"use strict";var r=a("83ab"),i=a("da84"),n=a("94ca"),l=a("6eeb"),o=a("5135"),s=a("c6b6"),c=a("7156"),u=a("c04e"),m=a("d039"),p=a("7c73"),f=a("241c").f,d=a("06cf").f,h=a("9bf2").f,b=a("58a8").trim,g="Number",y=i[g],D=y.prototype,L=s(p(D))==g,v=function(t){var e,a,r,i,n,l,o,s,c=u(t,!1);if("string"==typeof c&&c.length>2)if(c=b(c),e=c.charCodeAt(0),43===e||45===e){if(a=c.charCodeAt(2),88===a||120===a)return NaN}else if(48===e){switch(c.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+c}for(n=c.slice(2),l=n.length,o=0;o<l;o++)if(s=n.charCodeAt(o),s<48||s>i)return NaN;return parseInt(n,r)}return+c};if(n(g,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var N,E=function(t){var e=arguments.length<1?0:t,a=this;return a instanceof E&&(L?m((function(){D.valueOf.call(a)})):s(a)!=g)?c(new y(v(e)),a,E):v(e)},I=r?f(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),P=0;I.length>P;P++)o(y,N=I[P])&&!o(E,N)&&h(E,N,d(y,N));E.prototype=D,D.constructor=E,l(i,g,E)}},e7f8:function(t,e,a){},f292:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"c",(function(){return n})),a.d(e,"i",(function(){return l})),a.d(e,"p",(function(){return o})),a.d(e,"l",(function(){return s})),a.d(e,"a",(function(){return c})),a.d(e,"f",(function(){return u})),a.d(e,"m",(function(){return m})),a.d(e,"j",(function(){return p})),a.d(e,"d",(function(){return f})),a.d(e,"g",(function(){return d})),a.d(e,"n",(function(){return h})),a.d(e,"k",(function(){return b})),a.d(e,"e",(function(){return g})),a.d(e,"h",(function(){return y})),a.d(e,"o",(function(){return D}));var r=a("751a"),i=function(t){return Object(r["a"])({url:"/ERP/selectconfigStorage",method:"get",params:t})},n=function(t){return Object(r["a"])({url:"/ERP/selBasic",method:"get",params:t})},l=function(t){return Object(r["a"])({url:"/ERP/addconfigStorage",method:"post",data:t})},o=function(t){return Object(r["a"])({url:"/ERP/editconfigStorage",method:"post",data:t})},s=function(t){return Object(r["a"])({url:"/ERP/deleteconfigStorage",method:"post",data:t})},c=function(t){return Object(r["a"])({url:"/ERP/selBasic",method:"get",params:t})},u=function(t){return Object(r["a"])({url:"/ERP/addBasic",method:"post",data:t})},m=function(t){return Object(r["a"])({url:"/ERP/editBasic",method:"post",data:t})},p=function(t){return Object(r["a"])({url:"/ERP/delBasic",method:"post",data:t})},f=function(t){return Object(r["a"])({url:"/ERP/selectDepartment",method:"get",params:t})},d=function(t){return Object(r["a"])({url:"/ERP/addDepartment",method:"post",data:t})},h=function(t){return Object(r["a"])({url:"/ERP/editDepartment",method:"post",data:t})},b=function(t){return Object(r["a"])({url:"/ERP/delDepartment",method:"post",data:t})},g=function(t){return Object(r["a"])({url:"/ERP/selectEmplyee1",method:"get",params:t})},y=function(t){return Object(r["a"])({url:"/ERP/addEmployee",method:"post",data:t})},D=function(t){return Object(r["a"])({url:"/ERP/editEmployee",method:"post",data:t})}}}]);